#!/usr/bin/env zsh

#------------------------------------------------------------------------------
# About
#------------------------------------------------------------------------------

# Author : Andrew Kuttor
# E-mail : andrew_kuttor@Gmail.com
# Detail : initializes  Zplug, installs plugins, and performs plugin check

#------------------------------------------------------------------------------
# Initialize Zplug
#------------------------------------------------------------------------------

ZPLUG_URL="https://github.com/b4b4r07/zplug"

# If check fails clone it
[[ ! -d $ZPLUG_HOME ]] && git clone $ZPLUG_URL $ZPLUG_HOME;

# Initialize
source "$ZPLUG_HOME/init.zsh"

#------------------------------------------------------------------------------
# Specify Plugins
#------------------------------------------------------------------------------

# Selfless
zplug "zplug/zplug", hook-build:"zplug --self-manage"

# Fish-like suggestions
zplug "zsh-users/zsh-autosuggestions"

# Colors
zplug "zsh-users/zsh-syntax-highlighting", defer:3


# Pure Theme and async
zplug "mafredri/zsh-async", from:github
zplug "sindresorhus/pure", use:pure.zsh, defer:3, as:theme

zplug "plugins/brew", from:oh-my-zsh, if:"[[ $OSTYPE == *darwin* ]]"
zplug "fabiokiatkowski/exercism.plugin.zsh"
zplug "plugins/jsontools", from:oh-my-zsh
zplug "b4b4r07/ssh-keyreg", as:command, use:bin

# Python
zplug "plugins/python", from:oh-my-zsh
zplug "plugins/autopep8", from:oh-my-zsh

zplug "plugins/ruby", from:oh-my-zsh
zplug "plugins/pip", from:oh-my-zsh

# Git
zplug "plugins/git", from:oh-my-zsh, defer:3, if:"which git"
zplug "plugins/gitfast", from:oh-my-zsh
zplug "plugins/git-extras", from:oh-my-zsh
zplug "plugins/github", from:oh-my-zsh
zplug "glidenote/hub-zsh-completion"

# Misc
zplug "plugins/fasd", from:oh-my-zsh
zplug "plugins/aws", from:oh-my-zsh
zplug "plugins/command-not-found", from:oh-my-zsh
zplug "sindresorhus/pretty-time-zsh", from:github
zplug "gko/ssh-connect"
zplug "Valodim/zsh-curl-completion"
zplug "srijanshetty/zsh-pip-completion"
zplug "lib/compfix", from:oh-my-zsh
zplug "lib/termsupport", from:oh-my-zsh
zplug "plugins/zsh-navigation-tools", from:oh-my-zsh
zplug "lib/history", from:oh-my-zsh
zplug "lib/misc", from:oh-my-zsh
zplug "mutantcornholio/prok", as:command, use:"(*).sh", rename-to:"$1"
zplug "stedolan/jq", as:command, from:"gh-r", rename-to:"jq"
zplug "supercrabtree/k"

#------------------------------------------------------------------------------
# Initialize Plugins
#------------------------------------------------------------------------------

# If plugin non-exists, install it
zplug check --verbose || zplug install

# Load plugins
zplug load
