#!/usr/bin/env zsh
# -*- coding: utf-8 -*-
# vim:set ft=zsh ts=2 sw=2 sts=0 foldmethod=marker

# file: zinit
# info: Zinit configuration

# Zplugin init
source "${HOME}/.zinit/bin/zinit.zsh"
autoload -Uz _zinit
(( ${+_comps} )) && _comps[zinit]=_zinit

# Compinit speed up loading
ZINIT[COMPINIT_OPTS]=-C

# OMZ's
zinit snippet OMZ::lib/git.zsh
zinit snippet OMZ::plugins/asdf/asdf.plugin.zsh
zinit snippet OMZ::plugins/dotenv/dotenv.plugin.zsh
zinit snippet OMZ::plugins/fzf/fzf.plugin.zsh
zinit snippet OMZ::plugins/git/git.plugin.zsh
zinit snippet OMZ::plugins/heroku/heroku.plugin.zsh
zinit snippet OMZ::plugins/safe-paste/safe-paste.plugin.zsh

# Spaceship
zinit light denysdovhan/spaceship-prompt

# Diff-So-Fancy
zinit ice as"program" pick"bin/git-dsf"
zinit light zdharma/zsh-diff-so-fancy

# Git-Extras
zinit ice as"program" pick"$ZPFX/bin/git-*" make"PREFIX=$ZPFX" nocompile
zinit light tj/git-extras

# You Should Use
zinit ice wait lucid blockf
zinit light MichaelAquilina/zsh-you-should-use

# TheFuck
zinit ice wait lucid
zinit light laggardkernel/zsh-thefuck

# LS_Color
#zinit ice atclone"dircolors -b LS_COLORS > clrs.zsh" \
#    atpull'%atclone' pick"clrs.zsh" nocompile'!' \
#    atload'zstyle ":completion:*" list-colors “${(s.:.)LS_COLORS}”'
#zinit light trapd00r/LS_COLORS

zinit lucid reset \
 atclone"[[ -z ${commands[dircolors]} ]] && local P=g
    \${P}sed -i '/DIR/c\DIR 38;5;63;1' LS_COLORS; \
    \${P}dircolors -b LS_COLORS > c.zsh" \
 atpull'%atclone' pick"c.zsh" nocompile'!' for \
    trapd00r/LS_COLORS

# Zsh-Autopair
zinit ice wait lucid
zinit load hlissner/zsh-autopair

# Zlua
zinit ice wait lucid
zinit light skywind3000/z.lua

# FZF
zinit ice from"gh-r" as"program"
zinit light junegunn/fzf-bin

# Git-Start-Commit
zinit ice wait lucid
zinit light seletskiy/zsh-git-smart-commands

# FZ
zinit ice wait lucid
zinit light changyuheng/fz

# Zsh-Completions
zinit ice wait lucid blockf atpull"zinit creinstall -q ."
zinit light zsh-users/zsh-completions

# Zsh-Autosuggestions
zinit ice wait lucid atload'_zsh_autosuggest_start'
zinit light zsh-users/zsh-autosuggestions

# Syntax highlighter
zinit ice wait lucid atinit"ZINIT[COMPINIT_OPTS]=-C; zpcompinit; zpcdreplay"
zinit light zdharma/fast-syntax-highlighting

# Turbo-enabled CompDefs
autoload -Uz compinit && compinit
zinit cdreplay -q
