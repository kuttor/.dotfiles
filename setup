#!/usr/bin/env bash
# file: setup
# info: creates necessary links/files to setup dotfiles and install packages

# Install Homebrew for Linux or Mac
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"

# Install Zinit fpr Zsh
sh -c "$(curl -fsSL https://raw.githubusercontent.com/zdharma/zinit/master/doc/install.sh)"

# Fonts
#nix_fonts="/usr/share/fonts"
#mac_fonts="$HOME/Library/Fonts"
#cp -R "$fonts" $nix_fonts

# Disable welcome messages and disable :
touch "$HOME/.hushlogin"

# Simlink confing files
CONFIGS=$HOME/.dotfiles/configs
for FILE in `ls $CONFIGS`; do
    CONFIG=.$FILE
    ln -fs $CONFIGS/$FILE $HOME/$CONFIG
done

# Add main shell sources to zshrc file
cat << EOF >> $HOME/.zshrc

# Sources
source "$HOME/.dotfiles/zsh/zinit"
source "$HOME/.dotfiles/zsh/env"
source "$HOME/.dotfiles/zsh/setopts"
source "$HOME/.dotfiles/zsh/aliases"
source "$HOME/.dotfiles/zsh/completes"
source "$HOME/.dotfiles/zsh/keybind"

EOF
